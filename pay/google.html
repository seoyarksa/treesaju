<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Google ì •ê¸°êµ¬ë… ê²°ì œ</title>
  <script src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
</head>
<body>
  <h3>Google ì •ê¸°êµ¬ë… ê²°ì œ (PG í…ŒìŠ¤íŠ¸)</h3>
  <button id="payBtn">ê²°ì œí•˜ê¸°</button>

  <script>
    // ì•„ì„í¬íŠ¸ ê°ì²´ ì´ˆê¸°í™”
    const IMP = window.IMP;
    IMP.init("impXXXXXXXXX"); // ğŸ‘‰ ì—¬ê¸°ì—” ë³¸ì¸ ì•„ì„í¬íŠ¸ ê°€ë§¹ì  ì‹ë³„ì½”ë“œ ì…ë ¥

    document.getElementById("payBtn").addEventListener("click", function() {
      IMP.request_pay({
        pg: "html5_inicis",   // í…ŒìŠ¤íŠ¸ìš©: ì´ë‹ˆì‹œìŠ¤ PG
        pay_method: "card",   // ê²°ì œ ìˆ˜ë‹¨: card, kakaopay ë“±
        merchant_uid: "order_" + new Date().getTime(), // ì£¼ë¬¸ ê³ ìœ ë²ˆí˜¸
        name: "Google ì •ê¸°êµ¬ë… (ì›”ê°„)",
        amount: 9900,         // ê²°ì œ ê¸ˆì•¡
        buyer_email: "user@example.com",
        buyer_name: "í™ê¸¸ë™",
        buyer_tel: "01012345678",
        buyer_addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬",
        buyer_postcode: "123-456"
      }, function (rsp) {
        if (rsp.success) {
          alert("ê²°ì œ ì„±ê³µ ğŸ‰\nê³ ìœ  ID: " + rsp.imp_uid);
          // âœ… ê²°ì œ ì„±ê³µ í›„ ì„œë²„ì— ê²°ì œë‚´ì—­ ì €ì¥ ìš”ì²­
          // fetch('/api/payment/success', { method:'POST', body: JSON.stringify(rsp) })
        } else {
          alert("ê²°ì œ ì‹¤íŒ¨ âŒ\n" + rsp.error_msg);
        }
      });
    });
  </script>
</body>
</html>
