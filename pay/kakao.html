<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Kakao ì •ê¸°êµ¬ë… ê²°ì œ</title>
  <script src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
</head>
<body>
  <h3>Kakao ì •ê¸°êµ¬ë… ê²°ì œ</h3>
  <button id="payBtn">ê²°ì œí•˜ê¸°</button>

  <script>
    const IMP = window.IMP;
    IMP.init("impXXXXXXXXX"); // ë³¸ì¸ ì•„ì„í¬íŠ¸ ì‹ë³„ì½”ë“œ

    document.getElementById("payBtn").addEventListener("click", function() {
      IMP.request_pay({
        pg: "kakaopay.TC0ONETIME", // í…ŒìŠ¤íŠ¸ìš© ì¹´ì¹´ì˜¤í˜ì´
        pay_method: "card",
        merchant_uid: "order_" + new Date().getTime(),
        name: "Kakao ì •ê¸°êµ¬ë… (ì›”ê°„)",
        amount: 9900,
        buyer_email: "user@example.com",
        buyer_name: "í™ê¸¸ë™",
        buyer_tel: "01012345678"
      }, function (rsp) {
        if (rsp.success) {
          alert("ê²°ì œ ì„±ê³µ ğŸ‰\nê²°ì œë²ˆí˜¸: " + rsp.imp_uid);
          // âœ… ì •ê¸°ê²°ì œìš© ë¹Œë§í‚¤ ë°œê¸‰ â†’ ì„œë²„ë¡œ ì „ì†¡
          // fetch('/api/payment/register-billing', { method:'POST', body: JSON.stringify(rsp) })
        } else {
          alert("ê²°ì œ ì‹¤íŒ¨ âŒ\n" + rsp.error_msg);
        }
      });
    });
  </script>
</body>
</html>
